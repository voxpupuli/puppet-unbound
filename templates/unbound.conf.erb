server:
  verbosity: <%= @verbosity %>
  auto-trust-anchor-file: <%= @confdir %>/<%= @anchor_file %>
  do-not-query-localhost: no
  use-syslog: yes
  extended-statistics: <%= @extended_statistics %>
  statistics-interval: <%= @statistics_interval %>
  root-hints: <%= @confdir %>/<%= @hints_file %>
<% if @statistics_cumulative -%>
  statistics-cumulative: yes
<% end -%>
<% if @edns_buffer_size -%>
  edns-buffer-size: <%= @edns_buffer_size %>
<% end -%>
  num-threads: <%= @num_threads %>
<% if @prefetch -%>
  prefetch: yes
<% end -%>
<% if @prefetch_key -%>
  prefetch-key: yes
<% end -%>
<% if @private_domain -%>
  private-domain: "<%= @private_domain %>"
<% end -%>
  port: <%= @port %>
<% if @interface.is_a? Array -%>
<% @interface.each do |int| -%><%= "  interface: #{int}\n" %><% end -%>
<% elsif @interface != '' -%><%=   "  interface: #{@interface}" %><% end -%>
<% if @interface_automatic -%>
  interface-automatic: yes
<% end -%>
<% unless @do_ip4 -%>
  do-ip4: no
<% end -%>
<% unless @do_ip6 -%>
  do-ip6: no
<% end -%>
<% if @outgoing_interface.is_a? Array -%>
<% @outgoing_interface.each do |int| -%>
  outgoing-interface: <%= int %>
<% end -%>
<% elsif @outgoing_interface -%>
  outgoing-interface: <%= @outgoing_interface %>
<% end -%>
<% if @access.is_a? Array -%>
<% @access.each do |acc| -%><%= "  access-control: #{acc} allow\n" %><% end -%>
<% elsif access != '' -%><%=   "  access-control: #{access} allow" %><% end -%>
<% if @infra_host_ttl -%>
  infra-host-ttl: <%= @infra_host_ttl %>
<% end -%>
<% if @msg_cache_slabs -%>
  msg-cache-slabs: <%= @msg_cache_slabs %>
<% end -%>
<% if @rrset_cache_slabs -%>
  rrset-cache-slabs: <%= @rrset_cache_slabs %>
<% end -%>
<% if @infra_cache_slabs -%>
  infra-cache-slabs: <%= @infra_cache_slabs %>
<% end -%>
<% if @key_cache_slabs -%>
  key-cache-slabs: <%= @key_cache_slabs %>
<% end -%>
<% if @rrset_cache_size -%>
  rrset-cache-size: <%= @rrset_cache_size %>
<% end -%>
<% if @msg_cache_size -%>
  msg-cache-size: <%= @msg_cache_size %>
<% end -%>
<% if @key_cache_size -%>
  key-cache-size: <%= @key_cache_size %>
<% end -%>
<% if @num_queries_per_thread -%>
  num-queries-per-thread: <%= @num_queries_per_thread %>
<% end -%>
<% if @outgoing_range -%>
  outgoing-range: <%= @outgoing_range %>
<% end -%>
<% if @so_rcvbuf -%>
  so-rcvbuf: <%= @so_rcvbuf %>
<% end -%>
<% if @tcp_upstream -%>
  tcp-upstream: yes
<% end -%>
<% if @hide_identity -%>
  hide-identity: yes
<% else -%>
  hide-identity: no
<% end -%>
<% if @hide_version -%>
  hide-version: yes
<% else -%>
  hide-version: no
<% end -%>
